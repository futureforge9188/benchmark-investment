<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <title>Benchmark Investment</title>
  <meta content="width=device-width, initial-scale=1.0" name="viewport" />
  <meta content="" name="keywords" />
  <meta content="" name="description" />

  <!-- Favicon -->
  <link rel="icon" type="image/png" href="img/logo.png" />

  <!-- Google Web Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;500;600;700&family=Roboto:wght@400;500;700&display=swap"
    rel="stylesheet" />

  <!-- Icon Font Stylesheet -->
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.4/css/all.css" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css" rel="stylesheet" />

  <!-- Libraries Stylesheet -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />
  <link href="lib/animate/animate.min.css" rel="stylesheet" />
  <link href="lib/owlcarousel/assets/owl.carousel.min.css" rel="stylesheet" />
  <link href="lib/lightbox/css/lightbox.min.css" rel="stylesheet" />

  <!-- Customized Bootstrap Stylesheet -->
  <link href="css/bootstrap.min.css" rel="stylesheet" />

  <!-- Template Stylesheet -->
  <link href="css/style.css" rel="stylesheet" />
   <style>
        .font-size {
            font-size: 12px;
        }
    </style>
</head>

<body>
  <!-- Spinner Start -->
  <div id="spinner"
    class="show bg-white position-fixed translate-middle w-100 vh-100 top-50 start-50 d-flex align-items-center justify-content-center">
    <div class="spinner-border text-primary" style="width: 3rem; height: 3rem" role="status">
      <span class="sr-only">Loading...</span>
    </div>
  </div>
  <!-- Spinner End -->

  <!-- Topbar Start -->
  <div class="container-fluid topbar px-0 d-none d-lg-block">
    <div class="container px-0">
      <div class="row gx-0 align-items-center" style="height: 45px">
        <div class="col-lg-8 text-center text-lg-start mb-lg-0">
          <div class="d-flex flex-wrap">
            <a href="https://share.google/SbHIWO7VvFAIQz3Ul" class="text-muted me-4"><i
                class="fas fa-map-marker-alt text-primary me-2"></i>Find A
              Location</a>
            <a href="#" class="text-muted me-4"><i class="fas fa-phone-alt text-primary me-2"></i>+91
              9974455832</a>
            <a href="#" class="text-muted me-0"><i
                class="fas fa-envelope text-primary me-2"></i>benchmarkinvestment1@gmail.com</a>
          </div>
        </div>
        <div class="col-lg-4 text-center text-lg-end">
          <div class="d-flex align-items-center justify-content-end">
            <a href="https://www.facebook.com/share/1BBjLkt6P2/"
              class="btn btn-primary btn-square rounded-circle nav-fill me-3"><i
                class="fab fa-facebook-f text-white"></i></a>
            <a href="#" class="btn btn-primary btn-square rounded-circle nav-fill me-3"><i
                class="fab fa-twitter text-white"></i></a>
            <a href="https://www.instagram.com/benchmark_investment_?igsh=NWQ2MzR6Y2lybmNi"
              class="btn btn-primary btn-square rounded-circle nav-fill me-3"><i
                class="fab fa-instagram text-white"></i></a>
            <a href="#" class="btn btn-primary btn-square rounded-circle nav-fill me-0"><i
                class="fab fa-linkedin-in text-white"></i></a>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- Topbar End -->

  <!-- Navbar & Hero Start -->
  <div class="container-fluid sticky-top px-0">
    <div class="position-absolute bg-dark" style="left: 0; top: 0; width: 100%; height: 100%"></div>
    <div class="container px-0">
      <nav class="navbar navbar-expand-lg navbar-dark bg-white py-3 px-4">
        <a href="index.html" class="navbar-brand p-0 d-flex align-items-center">
          <img src="img/logo.png" alt="Investa Logo" class="navbar-logo"
            style="height: 44px; width: auto; display: block" />
        </a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse">
          <span class="fa fa-bars"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarCollapse">
                    <div class="navbar-nav ms-auto py-0">
                        <a href="index.html" class="nav-item nav-link mt-3 mt-lg-0 mb-2 mb-lg-0 me-lg-3">Home</a>
                        <a href="about.html" class="nav-item nav-link mb-2 mb-lg-0 me-lg-3">About Us</a>
                        <div class="nav-item dropdown mb-2 mb-lg-0 me-lg-3">
                            <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown">Offerings</a>
                            <div class="dropdown-menu m-0">
                                <a href="mutualfund.html" class="dropdown-item"><span class="float-start"><i
                                            class="fas fa-angle-right"></i></span> Mutual Fund</a>
                            </div>
                        </div>
                        <div class="nav-item dropdown mb-2 mb-lg-0 me-lg-3">
                            <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown">Resources</a>
                            <div class="dropdown-menu m-0">
                                <a href="imageGallery.html" class="dropdown-item"><span class="float-start"><i
                                            class="fas fa-angle-right"></i></span> Image Gallery</a>
                                <a href="testimonial.html" class="dropdown-item"><span class="float-start"><i
                                            class="fas fa-angle-right"></i></span> Client Testimonials</a>
                                <a href="importantLinks.html" class="dropdown-item"><span class="float-start"><i
                                            class="fas fa-angle-right"></i></span> Important Links</a>
                            </div>
                        </div>
                        <div class="nav-item dropdown mb-2 mb-lg-0 active me-lg-3">
                            <a href="#" class="nav-link dropdown-toggle active" data-bs-toggle="dropdown">Tools</a>
                            <div class="dropdown-menu m-0">
                                <a href="MFCalc.html" class="dropdown-item"><span class="float-start"><i
                                            class="fas fa-angle-right"></i></span> MF Calculator</a>
                                <a href="goal-calculator.html" class="dropdown-item"><span class="float-start"><i
                                            class="fas fa-angle-right"></i></span> Goal Calculator</a>
                                <a href="SWPCalc.html" class="dropdown-item active"><span class="float-start"><i
                                            class="fas fa-angle-right"></i></span> SWP Calculator</a>
                                <a href="ReverseEMICalc.html" class="dropdown-item"><span class="float-start"><i
                                            class="fas fa-angle-right"></i></span> Reverse EMI Calculator</a>
                            </div>
                        </div>
                        <div class="nav-item dropdown mb-2 mb-lg-0 me-lg-3">
                            <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown">Login</a>
                            <div class="dropdown-menu m-0">
                                <a href="https://benchmarkinvestment.madosx.co.in/pages/auth/login"
                                    class="dropdown-item">
                                    <span class="float-start"><i class="fas fa-angle-right"></i></span> Client Desk
                                </a>
                                <a href="https://benchmarkinvestment.madosx.co.in/pages/auth/login"
                                    class="dropdown-item">
                                    <span class="float-start"><i class="fas fa-angle-right"></i></span> Admin Desk
                                </a>
                            </div>
                        </div>
                    </div>
                    <div class="d-flex align-items-center flex-nowrap pt-xl-0">
                        <a href="contact.html"
                            class="btn btn-primary rounded-pill text-white py-2 px-4 ms-2 flex-wrap flex-sm-shrink-0">Contact
                            Us</a>
                    </div>
                </div>
      </nav>
    </div>
  </div>
  <!-- Navbar & Hero End -->

  <!-- Header Start -->
  <div class="container-fluid bg-breadcrumb">
    <div class="bg-breadcrumb-single"></div>
    <div class="container text-center py-5" style="max-width: 900px">
      <h4 class="text-white display-4 mb-4 wow fadeInDown" data-wow-delay="0.1s">
        SWP Calculator
      </h4>
      <ol class="breadcrumb justify-content-center mb-0 wow fadeInDown" data-wow-delay="0.3s">
        <li class="breadcrumb-item"><a href="index.html">Home</a></li>
        <li class="breadcrumb-item"><a href="#">Tools</a></li>
        <li class="breadcrumb-item active text-primary">SWP Calculator</li>
      </ol>
    </div>
  </div>
  <!-- Header End -->

  <!-- SWP Calculator Section Start -->
  <section class="container py-5" id="swp-calc" style="max-width: 1000px">
    <div class="mf-calc-card g-white rounded-4 shadow-lg p-4 p-md-5 mb-4">
      <div class="row g-4 align-items-center">
        <div class="col-lg-6">
          <h2 class="mb-4 text-primary fw-bold">
            <i class="fas fa-hand-holding-usd me-2"></i> SWP Calculator
          </h2>
          <form id="swp-form">
            <div class="mb-4">
              <label for="swp-investment" class="form-label fw-semibold">Total Investment <span
                  class="text-primary">(â‚¹)</span></label>
              <input type="range" class="form-range" min="1" max="10000000" id="swp-investment" value="2000000" />
              <input type="number" class="form-control mt-2" id="swpInvestmentOut" value="2000000" min="1"
                max="10000000" />
            </div>
            <div class="mb-4">
              <label for="swp-withdrawal" class="form-label fw-semibold">Monthly Withdrawal
                <span class="text-primary">(â‚¹)</span></label>
              <input type="range" class="form-range" min="1" max="200000" id="swp-withdrawal" value="10000" />
              <input type="number" class="form-control mt-2" id="swpWithdrawalOut" value="10000" min="1" max="200000" />
            </div>
            <div class="mb-4">
              <label for="swp-rate" class="form-label fw-semibold">Expected Annual Return
                <span class="text-primary">(%)</span></label>
              <input type="range" class="form-range" min="1" max="25" id="swp-rate" value="8" />
              <input type="number" class="form-control mt-2" id="swpRateOut" value="8" min="1" max="25" />
            </div>
            <div class="mb-4">
              <label for="swp-years" class="form-label fw-semibold">Number of Years</label>
              <input type="range" class="form-range" min="1" max="50" id="swp-years" value="20" />
              <input type="number" class="form-control mt-2" id="swpYearsOut" value="20" min="1" max="50" />
            </div>
          </form>
        </div>
        <div class="col-lg-6 mt-5 mt-lg-0">
          <div class="card mb-3 border-0 shadow-sm">
            <div class="card-body">
              <h5 class="card-title text-primary">Withdrawal Analysis</h5>
              <div class="row text-center mb-3">
                <div class="col-6">
                  <div class="fw-bold text-secondary small">
                    Total Withdrawals
                  </div>
                  <div class="fs-5 fw-bold" id="swp-total-withdrawals">
                    â‚¹0
                  </div>
                </div>
                <div class="col-6">
                  <div class="fw-bold text-secondary small">
                    Remaining Balance
                  </div>
                  <div class="fs-5 fw-bold" id="swp-remaining-balance">
                    â‚¹0
                  </div>
                </div>
              </div>
              <div class="row text-center mb-3">
                <div class="col-6">
                  <div class="fw-bold text-secondary small">
                    Total Returns
                  </div>
                  <div class="fs-5 fw-bold" id="swp-total-returns">â‚¹0</div>
                </div>
                <div class="col-6">
                  <div class="fw-bold text-secondary small">
                    Corpus Multiple
                  </div>
                  <div class="fs-5 fw-bold text-primary" id="swp-multiple-display">
                    0x
                  </div>
                </div>
              </div>
              <div class="text-center mb-2">
                <span id="swp-sustainability-indicator" class="badge bg-success">Sustainable Withdrawal Plan</span>
              </div>
              <div class="row text-center mt-3">
                <div class="col-4">
                  <div class="fw-bold text-secondary small">
                    Withdrawal Rate
                  </div>
                  <div class="fs-6 fw-bold" id="swp-rate-display">0%</div>
                </div>
                <div class="col-4">
                  <div class="fw-bold text-secondary small">
                    Years to Exhaust
                  </div>
                  <div class="fs-6 fw-bold text-danger" id="swp-years-display">
                    Never
                  </div>
                </div>
                <div class="col-4">
                  <div class="fw-bold text-secondary small">
                    Monthly Growth
                  </div>
                  <div class="fs-6 fw-bold text-success" id="swp-monthly-growth">
                    0%
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="mb-3 w-100" style="height: 220px">
            <canvas id="swpChart" height="180" style="max-width: 100%"></canvas>
          </div>
        </div>
      </div>
    </div>
  </section>
  <!-- SWP Calculator Section End -->



  <!-- Footer Start -->
  <div class="container-fluid footer wow fadeIn" data-wow-delay="0.2s" style="background:#132248;">
    <div class="container py-5">
      <div class="row gy-5 gx-4 align-items-start justify-content-between">
        <!-- Logo & Mission -->
        <div class="col-12 col-md-6 col-lg-3 mb-4 mb-lg-0">
          <div class="footer-item d-flex flex-column h-100">
            <img src="img/logo.png" alt="Benchmark Investment Logo"
              style="height:70px; width:140px; object-fit:contain; margin-bottom:20px;">
            <p class="mb-0" style="line-height:1.8;">
              Our mission is to deliver clear, unbiased, and customized financial solutions that help
              clients build wealth, improve their quality of life, and take actionable steps toward their
              goals.
            </p>
          </div>
        </div>
        <!-- Explore -->
        <div class="col-6 col-md-6 col-lg-2 mb-4 mb-lg-0">
          <div class="footer-item d-flex flex-column h-100">
            <h4 class="text-white mb-4">Explore</h4>
            <ul class="list-unstyled mb-0">
              <li><a href="index.html" class="footer-link"><i class="fas fa-angle-right me-2"></i>Home</a>
              </li>
              <li><a href="about.html" class="footer-link"><i class="fas fa-angle-right me-2"></i>About
                  Us</a></li>
              <li><a href="./about.html#team" class="footer-link"><i class="fas fa-angle-right me-2"></i>Our Team</a>
              </li>
              <li><a href="imageGallery.html" class="footer-link"><i class="fas fa-angle-right me-2"></i>Image
                  Gallery</a></li>
              <li><a href="testimonial.html" class="footer-link"><i class="fas fa-angle-right me-2"></i>Testimonials</a>
              </li>
              <li><a href="contact.html" class="footer-link"><i class="fas fa-angle-right me-2"></i>Contact Us</a></li>
            </ul>
          </div>
        </div>
        <!-- Tools -->
        <div class="col-6 col-md-6 col-lg-2 mb-4 mb-lg-0">
          <div class="footer-item d-flex flex-column h-100">
            <h4 class="text-white mb-4">Tools</h4>
            <ul class="list-unstyled mb-0">
              <li>
                <a href="MFCalc.html" class="footer-link">
                  <i class="fas fa-angle-right me-2"></i>MF Calculator
                </a>
              </li>
              <li>
                <a href="goal-calculator.html" class="footer-link">
                  <i class="fas fa-angle-right me-2 align-self-start icon-custom-margin"></i>Goal Calculator
                </a>
              </li>
              <li>
                <a href="SWPCalc.html" class="footer-link">
                  <i class="fas fa-angle-right me-2 align-self-start icon-custom-margin"></i>SWP Calculator
                </a>
              </li>
              <li>
                <a href="ReverseEMICalc.html" class="footer-link">
                  <i class="fas fa-angle-right me-2 align-self-start icon-custom-margin"></i>Reverse EMI Calculator
                </a>
              </li>
            </ul>
          </div>
        </div>
        <!-- Contact Info -->
        <div class="col-12 col-md-6 col-lg-4 mb-4 mb-lg-0">
          <div class="footer-item d-flex flex-column h-100">
            <h4 class="text-white mb-4">Contact Info</h4>
            <ul class="list-unstyled mb-3">
              <li>
                <div class="footer-icon-row">
                  <i class="fas fa-map-marker-alt footer-icon align-self-start"></i>
                  <a href="https://share.google/SbHIWO7VvFAIQz3Ul" target="_blank" class="footer-link">
                    1st Floor, Krishna Complex, Nr Bank of Baroda, Hirabaug Circle, Surat - 395006
                  </a>
                </div>
              </li>
              <li>
                <div class="footer-icon-row">
                  <i class="fas fa-envelope footer-icon"></i>
                  <a href="mailto:benchmarkinvestment1@gmail.com" class="footer-link">
                    benchmarkinvestment1@gmail.com
                  </a>
                </div>
              </li>
              <li>
                <div class="footer-icon-row">
                  <i class="fas fa-phone footer-icon"></i>
                  <a href="tel:9974455832" class="footer-link">
                    +91 9974455832
                  </a>
                </div>
              </li>
            </ul>

            <div class="d-flex align-items-center mt-auto flex-wrap">
              <a class="btn btn-light btn-md-square me-2 mb-2" href="https://www.facebook.com/share/1BBjLkt6P2/"
                target="_blank"><i class="fab fa-facebook-f"></i></a>
              <a class="btn btn-light btn-md-square me-2 mb-2" href="https://twitter.com/" target="_blank"><i
                  class="fab fa-twitter"></i></a>
              <a class="btn btn-light btn-md-square me-2 mb-2"
                href="https://www.instagram.com/benchmark_investment_?igsh=NWQ2MzR6Y2lybmNi" target="_blank"><i
                  class="fab fa-instagram"></i></a>
              <a class="btn btn-light btn-md-square me-0 mb-2" href="https://linkedin.com/" target="_blank"><i
                  class="fab fa-linkedin-in"></i></a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- Footer End -->

  <!-- WhatsApp Floating Button Start -->
  <div class="whatsapp-tooltip-container">
    <a href="https://wa.me/919974455832?text=Hi%20Benchmark-Investment,%20i%20want%20to%20know%20more%20about%20you"
      class="whatsapp-float" target="_blank" aria-label="Chat on WhatsApp">
      <i class="fab fa-whatsapp"></i>
    </a>
    <span class="whatsapp-tooltip-text">Chat with us</span>
  </div>
  <!-- WhatsApp Floating Button End -->

  <!-- Copyright Start -->
  <div class="container-fluid copyright py-4">
    <div class="container">
      <div class="row g-4 align-items-center">
        <div class="col-md-6 text-center text-md-start mb-md-0 font-size">
          <span class="text-body"><a href="#" class="border-bottom text-primary"><i
                class="fas fa-copyright text-light me-2"></i>Your Site
              Name</a>, All right reserved.</span>
        </div>
        <div class="col-md-6 text-center text-md-end text-body font-size">
          <!--/*** This template is free as long as you keep the below authorâ€™s credit link/attribution link/backlink. ***/-->
          <!--/*** If you'd like to use the template without the below authorâ€™s credit link/attribution link/backlink, ***/-->
          <!--/*** you can purchase the Credit Removal License from "https://sudarshansoft.com//credit-removal". ***/-->
          Designed By
          <a class="border-bottom text-primary" href="https://sudarshansoft.com/">SudarshanSoft Solutions</a>
        </div>
      </div>
    </div>
  </div>
  <!-- Copyright End -->

  <!-- Back to Top -->
  <a href="#" class="btn btn-primary btn-lg-square back-to-top"><i class="fa fa-arrow-up"></i></a>

  <!-- JavaScript Libraries -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js"></script>
  <script src="lib/wow/wow.min.js"></script>
  <script src="lib/easing/easing.min.js"></script>
  <script src="lib/waypoints/waypoints.min.js"></script>
  <script src="lib/counterup/counterup.min.js"></script>
  <script src="lib/owlcarousel/owl.carousel.min.js"></script>
  <script src="lib/lightbox/js/lightbox.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script>
    const swpInvestment = document.getElementById("swp-investment");
    const swpInvestmentOut = document.getElementById("swpInvestmentOut");
    const swpWithdrawal = document.getElementById("swp-withdrawal");
    const swpWithdrawalOut = document.getElementById("swpWithdrawalOut");
    const swpRate = document.getElementById("swp-rate");
    const swpRateOut = document.getElementById("swpRateOut");
    const swpYears = document.getElementById("swp-years");
    const swpYearsOut = document.getElementById("swpYearsOut");

    function formatINR(x) {
      return (
        "â‚¹" + Number(x).toLocaleString("en-IN", { maximumFractionDigits: 0 })
      );
    }

    function calcSWP() {
      const investment = parseFloat(swpInvestment.value); // Initial corpus
      const withdrawal = parseFloat(swpWithdrawal.value); // Monthly withdrawal
      const rate = parseFloat(swpRate.value); // Annual rate (%)
      const years = parseInt(swpYears.value); // Duration (years)

      const months = years * 12;
      const monthlyRate = (rate / 12);

      let balance = investment;
      let totalReturns = 0;
      let exhaustedAt = 0;
      let balanceData = [balance];

      console.log({ investment, months, monthlyRate, withdrawal })

      for (let i = 1; i < months; i++) {
        // Step 1: Withdraw fixed amount
        balance -= withdrawal;
        if (balance < 0) {
          balance = 0;
          balanceData.push(balance);
          exhaustedAt = i;
          break;
        }

        // Step 2: Apply monthly interest on remaining balance
        const gain = (balance * monthlyRate) / 100;
        balance += gain;
        totalReturns += gain;

        balanceData.push(balance);
      }
      console.log({ balance })

      // Final calculations
      const totalWithdrawals =
        withdrawal * (exhaustedAt > 0 ? exhaustedAt : months);
      const remainingBalance = Math.max(0, balance);
      const withdrawalRate = ((withdrawal * 12) / investment) * 100;
      const yearsToExhaust =
        exhaustedAt > 0 ? (exhaustedAt / 12).toFixed(1) : "Never";
      const monthlyGrowth = monthlyRate * 100;
      const corpusMultiple =
        (totalWithdrawals + remainingBalance) / investment;

      // Update UI
      document.getElementById("swp-total-withdrawals").textContent =
        formatINR(totalWithdrawals);
      document.getElementById("swp-remaining-balance").textContent =
        formatINR(remainingBalance);
      document.getElementById("swp-total-returns").textContent =
        formatINR(totalReturns);
      document.getElementById("swp-rate-display").textContent =
        withdrawalRate.toFixed(1) + "%";
      document.getElementById("swp-years-display").textContent =
        yearsToExhaust;
      document.getElementById("swp-monthly-growth").textContent =
        monthlyGrowth.toFixed(2) + "%";
      document.getElementById("swp-multiple-display").textContent =
        corpusMultiple.toFixed(1) + "x";

      // Sustainability indicator
      const indicator = document.getElementById(
        "swp-sustainability-indicator"
      );
      indicator.className = "badge"; // reset classes
      if (exhaustedAt > 0) {
        indicator.classList.add("bg-danger");
        indicator.textContent = "Unsustainable - Corpus will be exhausted";
      } else if (withdrawalRate > 6) {
        indicator.classList.add("bg-warning", "text-dark");
        indicator.textContent = "High Withdrawal Rate - Monitor closely";
      } else {
        indicator.classList.add("bg-success");
        indicator.textContent = "Sustainable Withdrawal Plan";
      }

      // Update chart with month-by-month balances
      updateSWPChart(balanceData, withdrawal, months);
    }

    // Sync sliders and inputs
    swpInvestment.oninput = () => {
      swpInvestmentOut.value = swpInvestment.value;
      calcSWP();
    };
    swpInvestmentOut.oninput = () => {
      swpInvestment.value = swpInvestmentOut.value;
      calcSWP();
    };
    swpWithdrawal.oninput = () => {
      swpWithdrawalOut.value = swpWithdrawal.value;
      calcSWP();
    };
    swpWithdrawalOut.oninput = () => {
      swpWithdrawal.value = swpWithdrawalOut.value;
      calcSWP();
    };
    swpRate.oninput = () => {
      swpRateOut.value = swpRate.value;
      calcSWP();
    };
    swpRateOut.oninput = () => {
      swpRate.value = swpRateOut.value;
      calcSWP();
    };
    swpYears.oninput = () => {
      swpYearsOut.value = swpYears.value;
      calcSWP();
    };
    swpYearsOut.oninput = () => {
      swpYears.value = swpYearsOut.value;
      calcSWP();
    };

    let swpChart;
    function updateSWPChart(balanceData, withdrawal, months) {
      if (swpChart) swpChart.destroy();
      const ctx = document.getElementById("swpChart").getContext("2d");
      const labels = [];
      const balancePoints = [];
      const withdrawalPoints = [];
      let cumulativeWithdrawals = 0;
      const totalYears = Math.ceil(months / 12);

      for (let year = 0; year <= totalYears; year++) {
        const monthIndex = year * 12;
        labels.push(`Year ${year}`);
        balancePoints.push(balanceData[monthIndex] || 0);
        cumulativeWithdrawals = withdrawal * monthIndex;
        withdrawalPoints.push(cumulativeWithdrawals);
      }

      swpChart = new Chart(ctx, {
        type: "line",
        data: {
          labels: labels,
          datasets: [
            {
              label: "Portfolio Balance",
              data: balancePoints,
              borderColor: "#42a5f5",
              backgroundColor: "rgba(66,165,245,0.1)",
              borderWidth: 2,
              fill: true,
              tension: 0.4,
            },
            {
              label: "Cumulative Withdrawals",
              data: withdrawalPoints,
              borderColor: "#66bb6a",
              backgroundColor: "rgba(102,187,106,0.1)",
              borderWidth: 2,
              fill: false,
              tension: 0.4,
            },
          ],
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          plugins: {
            legend: { position: "top" },
          },
          scales: {
            x: {
              title: {
                display: true,
                text: "Year",
              },
            },
            y: {
              beginAtZero: true,
              ticks: {
                callback: function (value) {
                  if (value >= 10000000)
                    return "â‚¹" + (value / 10000000).toFixed(1) + "Cr";
                  if (value >= 100000)
                    return "â‚¹" + (value / 100000).toFixed(1) + "L";
                  return "â‚¹" + (value / 1000).toFixed(0) + "K";
                },
              },
            },
          },
        },
      });
    }

    document.addEventListener("DOMContentLoaded", calcSWP);
  </script>

  <!-- Template Javascript -->
  <script src="js/main.js"></script>
</body>

</html>